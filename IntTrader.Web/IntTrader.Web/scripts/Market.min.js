var Exchange,__bind=function(n,t){return function(){return n.apply(t,arguments)}};Exchange=function(){function n(n,t){this.name=n;this.pair=t;this.appendTrade=__bind(this.appendTrade,this);this.connectHubs();this.updateTicker();this.updateTrades()}var t,i;return t=$.connection.tickerHub,i=$.connection.tradesHub,n._trades=[],n.prototype.connectHubs=function(){var n=this;return $.connection.hub.start().done(function(){return t.server.requestTicker(n.name,n.pair),i.server.requestTrades(n.name,n.pair)})},n.prototype.updateTicker=function(){var n=this;return t.client.update=function(n,t){return $("#ticker-"+n).text(t)}},n.prototype.updateTrades=function(){var n=this;return i.client.update=function(t,i){for(var u,r=0,f=i.length;r<f;r++)u=i[r],n.appendTrade(t,u);return void 0}},n.prototype.appendTrade=function(n,t){var i;return i=t.Side.Value==="sell"?"sell":"buy",$("#trades-"+n).append("<tr><td>"+t.TimestampString+"<\/td><td class='"+i+"'>"+t.Price+"<\/td><td>"+t.Amount+"<\/td><\/tr>")},n}()